# =============================================================================
# TELEGRAM BOT CONFIGURATION
# =============================================================================

# [REQUIRED] Bot token from @BotFather
TELEGRAM_BOT_TOKEN=your_bot_token_here

# [REQUIRED] Secret token for webhook verification (generate a random string)
TELEGRAM_WEBHOOK_SECRET=your_webhook_secret_here

# [Optional] Explicit webhook URL (normally auto-detected from ngrok/Railway)
# TELEGRAM_WEBHOOK_URL=https://your-ngrok-url.ngrok.io/webhook

# =============================================================================
# LLM PROVIDERS - API KEYS
# =============================================================================

# [REQUIRED] OpenAI API key for GPT models and vision analysis
OPENAI_API_KEY=your_openai_api_key_here

# [Optional] OpenAI organization ID
# OPENAI_ORG_ID=your_openai_org_id_here

# [Optional] Anthropic API key for Claude models
# Note: For Claude Code integration, the SDK uses subscription by default
# ANTHROPIC_API_KEY=your_anthropic_key_here

# [Optional] Groq API key for fast inference (used for voice transcription)
GROQ_API_KEY=your_groq_key_here

# [Optional] Google AI API key for Gemini models
# GOOGLE_API_KEY=your_google_key_here

# [Optional] Other LLM providers supported by LiteLLM
# COHERE_API_KEY=your_cohere_key_here
# HUGGINGFACE_API_KEY=your_hf_key_here

# =============================================================================
# LLM CONFIGURATION
# =============================================================================

# [Optional] Default LLM model to use (default: gpt-4o-mini)
LLM_MODEL=gpt-4o-mini

# [Optional] Enable verbose LiteLLM logging (default: false)
LLM_VERBOSE=false

# [Optional] LiteLLM log level
LITELLM_LOG=INFO

# [Optional] Drop unsupported params for compatibility
LITELLM_DROP_PARAMS=true

# =============================================================================
# CLAUDE CODE CONFIGURATION
# =============================================================================

# [Optional] Claude Code model to use (default: sonnet)
# Options: sonnet, opus, haiku
CLAUDE_CODE_MODEL=sonnet

# [Optional] Working directory for Claude Code operations
CLAUDE_CODE_WORK_DIR=~/Research/vault

# =============================================================================
# DATABASE CONFIGURATION
# =============================================================================

# [Optional] Database connection URL (default: SQLite in ./data/)
DATABASE_URL=sqlite+aiosqlite:///./data/telegram_agent.db

# [Optional] Echo SQL statements for debugging (default: false)
DATABASE_ECHO=false

# [Optional] Path to SQLite extensions (for vector search)
# SQLITE_EXTENSIONS_PATH=./extensions

# =============================================================================
# OBSIDIAN VAULT PATHS
# =============================================================================

# [Optional] Main Obsidian vault path
VAULT_PATH=~/Research/vault

# [Optional] Temporary images directory in vault
VAULT_TEMP_IMAGES_DIR=~/Research/vault/temp_images

# [Optional] Temporary documents directory in vault
VAULT_TEMP_DOCS_DIR=~/Research/vault/temp_docs

# [Optional] People directory in vault (for contact cards)
VAULT_PEOPLE_DIR=~/Research/vault/People

# =============================================================================
# APPLICATION SETTINGS
# =============================================================================

# [Optional] Environment mode: development, production, test
ENVIRONMENT=development

# [Optional] Enable debug mode (default: false)
DEBUG=true

# [Optional] Log level: DEBUG, INFO, WARNING, ERROR
LOG_LEVEL=INFO

# [Optional] Server host binding
HOST=0.0.0.0

# [Optional] Server port (Railway sets this automatically)
PORT=8000

# [Optional] Python executable path (auto-detected by default)
# PYTHON_EXECUTABLE=/opt/homebrew/bin/python3.11

# =============================================================================
# MESSAGE BUFFER CONFIGURATION
# =============================================================================

# [Optional] Buffer timeout in seconds before processing (default: 2.5)
BUFFER_TIMEOUT=2.5

# [Optional] Maximum messages to buffer per user (default: 10)
MAX_BUFFER_MESSAGES=10

# [Optional] Maximum wait time for buffer in seconds (default: 30.0)
MAX_BUFFER_WAIT=30.0

# =============================================================================
# TIMEOUTS
# =============================================================================

# [Optional] Claude query timeout in seconds (default: 300)
CLAUDE_QUERY_TIMEOUT=300

# [Optional] Session idle timeout in minutes (default: 60)
SESSION_IDLE_TIMEOUT_MINUTES=60

# =============================================================================
# NGROK CONFIGURATION (for local development)
# =============================================================================

# [REQUIRED for local dev] ngrok authentication token
NGROK_AUTHTOKEN=your_ngrok_authtoken_here

# [Optional] ngrok tunnel port (default: 8000)
NGROK_PORT=8000

# [Optional] ngrok region: us, eu, ap, au, sa, jp, in (default: us)
NGROK_REGION=us

# [Optional] ngrok tunnel name (default: telegram-agent)
NGROK_TUNNEL_NAME=telegram-agent

# [Optional] Auto-update webhook URL when ngrok restarts
NGROK_AUTO_UPDATE=true

# =============================================================================
# WEBHOOK CONFIGURATION (for production/Docker/Railway)
# =============================================================================

# [Optional] Explicit webhook base URL (overrides auto-detection)
# Set this in production environments where ngrok is not used
# WEBHOOK_BASE_URL=https://your-domain.com

# [Optional] Force HTTPS for webhook URLs (default: true)
WEBHOOK_USE_HTTPS=true

# =============================================================================
# RAILWAY DEPLOYMENT (auto-set by Railway platform)
# =============================================================================

# These are automatically set by Railway - do not set manually
# RAILWAY_PUBLIC_DOMAIN=your-app.up.railway.app
# RAILWAY_SERVICE_URL=https://your-app.up.railway.app
# RAILWAY_STATIC_URL=https://your-app.up.railway.app
# RAILWAY_APP_URL=https://your-app.up.railway.app

# =============================================================================
# WEB ADMIN INTERFACE
# =============================================================================

# [Optional] Secret key for session encryption
ADMIN_SECRET_KEY=your_secret_key_for_sessions

# [Optional] Admin username for web interface
ADMIN_USERNAME=admin

# [Optional] Admin password for web interface
ADMIN_PASSWORD=change_this_password

# [Optional] CORS allowed origins (comma-separated)
CORS_ORIGINS=http://localhost:3000,http://localhost:8000

# =============================================================================
# EXTERNAL SERVICES
# =============================================================================

# [Optional] Firecrawl API key for web scraping
# FIRECRAWL_API_KEY=your_firecrawl_key_here

# [Optional] Voice server URL for external voice processing
# VOICE_SERVER_URL=https://vox.realitytouch.org

# =============================================================================
# IMAGE PROCESSING
# =============================================================================

# [Optional] Image storage path
IMAGE_STORAGE_PATH=./data

# [Optional] Maximum image size in MB
MAX_IMAGE_SIZE_MB=10

# [Optional] Supported image formats (comma-separated)
SUPPORTED_IMAGE_FORMATS=jpg,jpeg,png,webp

# =============================================================================
# EMBEDDING & VECTOR SEARCH
# =============================================================================

# [Optional] Embedding model name (default: clip-ViT-B-32)
EMBEDDING_MODEL=clip-ViT-B-32

# [Optional] Similarity threshold for image search (0.0-1.0)
SIMILARITY_THRESHOLD=0.7

# [Optional] Maximum similar images to return
MAX_SIMILAR_IMAGES=5

# =============================================================================
# MCP (Model Context Protocol) CONFIGURATION
# =============================================================================

# [Optional] Enable MCP server discovery
MCP_SERVER_DISCOVERY=true

# [Optional] Path to MCP servers configuration
MCP_SERVERS_CONFIG_PATH=./config/mcp_servers.json

# =============================================================================
# COMPLETION REACTIONS
# =============================================================================
# Reactions sent when Claude Code completes a task
# See COMPLETION_REACTIONS.md for full guide

# [Optional] Type: emoji, sticker, animation, or none
COMPLETION_REACTION_TYPE=emoji

# [Optional] Value: emoji(s), file_id, or file path
# For multiple options, comma-separate for random selection
COMPLETION_REACTION_VALUE=âœ…

# [Optional] Probability of sending reaction (0.0-1.0, 1.0 = always)
COMPLETION_REACTION_PROBABILITY=1.0

# =============================================================================
# BACKGROUND JOBS & RATE LIMITING
# =============================================================================

# [Optional] Enable background job processing
ENABLE_BACKGROUND_JOBS=true

# [Optional] Maximum concurrent background jobs
MAX_CONCURRENT_JOBS=3

# [Optional] Rate limit per user per minute
RATE_LIMIT_PER_USER_PER_MINUTE=10

# [Optional] Rate limit per chat per minute
RATE_LIMIT_PER_CHAT_PER_MINUTE=20

# =============================================================================
# LOGGING CONFIGURATION
# =============================================================================

# [Optional] Enable structured JSON logging
STRUCTURED_LOGGING=true

# [Optional] Log file path
LOG_FILE_PATH=./logs/app.log

# [Optional] Log rotation size
LOG_ROTATION_SIZE=10MB

# [Optional] Log retention in days
LOG_RETENTION_DAYS=30

# =============================================================================
# DEVELOPMENT & DEBUGGING
# =============================================================================

# [Optional] Enable debug endpoints (disable in production!)
ENABLE_DEBUG_ENDPOINTS=true

# [Optional] Mock external API calls for testing
MOCK_EXTERNAL_APIS=false

# [Optional] Test chat ID for automated testing
# TEST_CHAT_ID=123456789

# =============================================================================
# LAUNCHD SERVICE CONFIGURATION (macOS)
# =============================================================================

# [Optional] Environment file path for launchd
# ENV_FILE=/path/to/.env

# [Optional] Launchd service label
# SERVICE_LABEL=com.telegram-agent.bot
